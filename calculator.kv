
<MenuScreen>:
    BoxLayout:
        padding: 50
        orientation: 'vertical'
        size: root.size

        Label:
            size_hint_y: 1.0
            text: "Menu"
            font_size: 48
        Button:
            size_hint_y: 1.0
            id: start_training_btn
            text: "Training"
            font_size: 36
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'training'
                root.on_training_btn()
                app.calc_screen.init_params()
                app.calc_screen.set_dt_start()
                app.calc_screen.timer_start()
        BoxLayout:
            size_hint_y: 1.0
            orientation: 'horizontal'
            Label:
                size_hint_x: 1.0
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 0.3
                    Rectangle:
                        pos: self.pos
                        size: self.size
                text: "Type:"
                font_size: 36
            Spinner:
                size_hint_x: 1.0
                id: calc_type
                halign: 'center'
                valign: 'middle'
                font_size: 36
                text: root.type_choice[0]
                values: root.type_choice

        Button:
            size_hint_y: 1.0
            id: upload_btn
            text: "Upload"
            font_size: 36
            on_press:
                root.on_upload_btn()
        Button:
            size_hint_y: 1.0
            id: answer_btn
            text: "Setting"
            font_size: 36
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'setting'

<SettingScreen>:
    BoxLayout:
        padding: 50
        orientation: 'vertical'

        Label:
            size_hint_y: 1.0
            text: "Setting"
            font_size: 48
        BoxLayout:
            Label:
                size_hint_x: 0.6
                text: "User"
                font_size: 36
            TextInput:
                size_hint_x: 1.0
                id: text_user_name
                size: 200, 30
                line_height: 1
                font_size: 36
                multiline: False
                hint_text: root.user_name
        BoxLayout:
            Label:
                size_hint_x: 0.6
                text: "Upload To"
                font_size: 36
            TextInput:
                size_hint_x: 1.0
                id: text_upload_to
                size: 200, 30
                line_height: 1
                font_size: 36
                multiline: False
                hint_text: root.upload_to
        BoxLayout:
            Label:
                size_hint_x: 1.0
                text: ""
        BoxLayout:
            size_hint_y: 1.0
            orientation: 'horizontal'
            Button:
                size_hint_x: 1.0
                id: seting_back_btn
                text: "Menu"
                font_size: 36
                on_press:
                    root.manager.transition.direction = 'right'
                    root.manager.current = 'menu'
            Label:
                size_hint_x: 1.0
            Button:
                size_hint_x: 1.0
                id: seting_save_btn
                text: "Save"
                font_size: 36
                on_press:
                    root.manager.transition.direction = 'right'
                    root.manager.current = 'menu'
                    root.on_save_btn()

            

<CalculatorScreen>:
    BoxLayout:
        orientation: 'vertical'
        size: root.size

        BoxLayout:
            size_hint_y: 0.3
            orientation: 'horizontal'
            # SPEC -----------------------
            Label:
                text: "Addition"
                font_size: 48
            # TIMER -----------------------
            Label:
                text: "{}:{}".format(root.time // 60, str(root.time % 60).zfill(2))
                font_size: 24

        BoxLayout:
            padding: 50
            size_hint_y: 1.0
            orientation: 'horizontal'
            # EQUATION --------------------
            Label:
                size_hint_x: 1.0
                text: root.eq
                font_size: 48
            # SHOW TEXT_INPUT -------------------
            Label:
                size_hint_x: 0.3
                text: root.text_input
                font_size: 48

#            TextInput:
#                size_hint: (.3, None)
#                size_hint_x: 0.3
#                height: 30
#                id: text_ans
#                size: 200, 30
#                line_height: 1
#                font_size: 48
#                multiline: False
#                hint_text: ''
            # BRANK -------------------
            Label:
                size_hint_x: 0.1
                text: ""
        # KEY PAD ==========================================
        BoxLayout:
            size_hint_y: 1.8
            orientation: 'horizontal'
            # BRANK -------------------
            Label:
                size_hint_x: 1.0
                text: ""
            # KEY PAD -------------------
            BoxLayout:
                size_hint_x: 2.0
                orientation: 'vertical'
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: 1.0
                    # KEY 7 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_7
                        text: "7"
                        font_size: 24
                        on_press: root.on_keypad("7")
                    # KEY 8 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_8
                        text: "8"
                        font_size: 24
                        on_press: root.on_keypad("8")
                    # KEY 9 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_9
                        text: "9"
                        font_size: 24
                        on_press: root.on_keypad("9")
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: 1.0
                    # KEY 4 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_4
                        text: "4"
                        font_size: 24
                        on_press: root.on_keypad("4")
                    # KEY 5 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_5
                        text: "5"
                        font_size: 24
                        on_press: root.on_keypad("5")
                    # KEY 6 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_6
                        text: "6"
                        font_size: 24
                        on_press: root.on_keypad("6")
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: 1.0
                    # KEY 1 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_1
                        text: "1"
                        font_size: 24
                        on_press: root.on_keypad("1")
                    # KEY 2 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_2
                        text: "2"
                        font_size: 24
                        on_press: root.on_keypad("2")
                    # KEY 3 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_3
                        text: "3"
                        font_size: 24
                        on_press: root.on_keypad("3")
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: 1.0
                    # KEY CLEAR ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_clr
                        text: "CLR"
                        font_size: 24
                        on_press: root.on_keypad("clr")
                    # KEY 0 ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_0
                        text: "0"
                        font_size: 24
                        on_press: root.on_keypad("0")
                    # KEY DEL ---------------
                    Button:
                        size_hint_x: 1.0
                        id: key_pad_del
                        text: "DEL"
                        font_size: 24
                        on_press: root.on_keypad("del")
                    
            # BRANK -------------------
            Label:
                size_hint_x: 1.0
                text: ""

        BoxLayout:
            padding: 10
            size_hint_y: 0.6
            orientation: 'horizontal'
            Button:
                size_hint_x: 1.0
                id: back_btn
                text: "Quit"
                font_size: 36
                on_press:
                    root.manager.transition.direction = 'right'
                    root.manager.current = 'menu'
                    app.calc_screen.timer_cancel()
            Label:
                size_hint_x: 1.0
                text: root.result
                font_size: 24
            Button:
                size_hint_x: 1.0
                id: answer_btn
                text: "Answer"
                font_size: 36
                on_press: root.check_ans_and_go_next()